## 2. 鏍稿績妯″潡鏋舵瀯 (Core Modules)

### 2.1 Nexus (鏋㈢航) 鈥斺€?鏁版嵁涓庡畤瀹欏眰
**鑱岃矗**锛氫綔涓轰竴鍒囩殑璧风偣锛岃礋璐ｆ暟鎹殑鎽勫叆銆佹竻娲椾互鍙婃姇璧勬爣鐨勶紙Symbol锛夌殑鍒濈瓫銆?

*   **鍔熻兘瀹氫箟**锛?
    *   **Data Pylon (鏁版嵁姘存櫠)**锛氭彁渚?OHLCV銆佽储鍔℃暟鎹€佸畯瑙傛暟鎹殑缁熶竴鎺ュ彛銆?
    *   **Warp In (鍔ㄦ€佸畤瀹?**锛氭牴鎹椂闂?$t$锛屽姩鎬佺敓鎴愬悎娉曠殑鑲＄エ姹狅紙Universe锛夈€?
        *   *閫昏緫*锛氬墧闄?ST/PT銆佸墧闄ゅ垰涓婂競 < N 澶╃殑鏂拌偂銆佸墧闄ゅ仠鐗岃偂绁ㄣ€?
        *   *杈撳嚭*锛歚List[Active_Symbol]`
*   **ML 鎵╁睍鎬?*锛歂exus 浜х敓鐨勬暟鎹彲浠ョ洿鎺ヨ鏍煎紡鍖栦负 `(Batch, Time, Features)` 鐨勫紶閲忎緵绁炵粡缃戠粶璇诲彇銆?

### 2.2 Factor (鍏堢煡) 鈥斺€?鍥犲瓙涓庝俊鍙峰眰
**鑱岃矗**锛氭劅鐭ュ競鍦哄彉鍖栵紝鐢熸垚鍘熷淇″彿銆傝繖鏄棫璁捐涓?"Factor" 鐨勫崌绾х増銆?

*   **鍔熻兘瀹氫箟**锛?
    *   **Revelation (鏄鹃殣)**锛氭瘡涓?Factor 鍏虫敞涓€涓壒瀹氱殑甯傚満閫昏緫锛堝鍔ㄩ噺銆佷环鍊笺€佹尝鍔ㄧ巼锛夈€?
    *   **Input**锛氭潵鑷?Nexus 鐨勫師濮嬫暟鎹€?
    *   **Output**锛歚Signal Vector` (褰掍竴鍖栧埌 [-1, 1] 鎴?[0, 1])銆?
    *   *鐗规€?锛歄racle 涔嬮棿瀹屽叏闅旂锛屼簰涓嶅共鎵般€傛敮鎸佺嚎鎬у洜瀛愶紙MA Cross锛夊拰闈炵嚎鎬у洜瀛愶紙鍩轰簬閫昏緫鍒ゆ柇锛夈€?
*   **ML 鎵╁睍鎬?*锛氭瘡涓?Factor 閮藉彲浠ヨ鏇挎崲涓轰竴涓嫭绔嬬殑寰瀷妯″瀷锛堝 LSTM 鐗瑰緛鎻愬彇鍣級銆?

### 2.3 Scoring (浠茶鑰? 鈥斺€?鍐崇瓥涓庢潈閲嶅眰
**鑱岃矗**锛氱郴缁熺殑鈥滃ぇ鑴戔€濄€傛帴鏀舵墍鏈?Factor 鐨勪俊鍙凤紝瑙ｅ喅鍐茬獊锛屽喅瀹氭渶缁堟寔浠撱€?*瀹冮€氳繃閫昏緫鎺у埗鍙栦唬浜嗕紶缁熺殑 Scheduler**銆?

*   **鍔熻兘瀹氫箟**锛?
    *   **Recall (鍙洖/鑱氬悎)**锛氭牴鎹厤缃潈閲嶏紙$\alpha$锛夋垨鍐崇瓥鏍戦€昏緫锛岃仛鍚?Factor 淇″彿銆?
    *   **Stasis Field (闈欐粸鍦?闃叉姈)**锛氬疄鐜颁綘鐨勨€滆皟搴︹€濋€昏緫銆?
        *   *閫昏緫*锛氬鏋滄柊璁＄畻鐨?`Target_Portfolio` 涓?`Current_Portfolio` 宸紓灏忎簬闃堝€硷紙Threshold锛夛紝鍒欏己鍒惰緭鍑?`Current_Portfolio`锛屽嵆鈥滄寜鍏典笉鍔ㄢ€濄€?
    *   **Output**锛歚Target Portfolio` (鐩爣鎸佷粨鏉冮噸锛屽锛氳寘鍙?20%锛岀幇閲?80%)銆?
*   **ML 鎵╁睍鎬?*锛?*杩欐槸寮曞叆 AI 鐨勬牳蹇冨垏鍏ョ偣**銆?
    *   *浼犵粺妯″紡*锛氬姞鏉冨钩鍧囥€?
    *   *AI 妯″紡*锛欰rbiter 浣滀负涓€涓?**RL Agent (寮哄寲瀛︿範鏅鸿兘浣?** 鎴?**XGBoost 妯″瀷**锛岃緭鍏ユ槸鎵€鏈?Factor 鐨勪俊鍙凤紝杈撳嚭鏄渶浣虫潈閲嶃€?

### 2.4 Execution (鎵ц瀹? 鈥斺€?浜ゆ槗鐢熸垚灞?
**鑱岃矗**锛氬皢 Scoring 鐨勭悊鎯崇洰鏍囪浆鍖栦负绗﹀悎 A 鑲＄幇瀹炵殑浜ゆ槗鎸囦护銆?

*   **鍔熻兘瀹氫箟**锛?
    *   **Diff Calculation**锛歚Target` - `Current`銆?
    *   **Constraints (A鑲℃硶鍒?**锛?
        *   *Lot Size*锛氬悜涓嬪彇鏁村埌 100 鑲?(Round down to 100)銆?
        *   *T+1 Check*锛氭鏌ュ彲鍗栨寔浠擄紙Sellable Shares锛夈€?
        *   *Limit Up/Down*锛氭定璺屽仠鏃犳硶鎴愪氦妫€鏌ャ€?
    *   **Output**锛歚Order List` (Buy/Sell 鎸囦护鍒楄〃)銆?

### 2.5 Gateway (鎶樿穬闂? 鈥斺€?璐︽埛涓庢竻绠楀眰
**鑱岃矗**锛氱淮鎶よ处鎴风姸鎬侊紝澶勭悊璧勯噾鍒掕浆涓庢挳鍚堛€傝繖鏄暣涓郴缁熺殑鈥滅湡瀹炶处鏈€濄€?

*   **鍔熻兘瀹氫箟**锛?
    *   **Warp Gate (鎾悎)**锛氭帴鏀?Order锛屽熀浜庡綋澶╃殑浠锋牸鏁版嵁杩涜鎴愪氦鍒ゅ畾銆?
    *   **Shield Battery (鎶ょ浘鍏呰兘/鍒嗙孩)**锛氳嚜鍔ㄥ鐞嗛櫎鏉冮櫎鎭紙XR/XD锛夛紝澧炲姞鐜伴噾锛岃皟鏁存寔浠撹偂鏁般€?
    *   **State Keeping**锛氱淮鎶?`Total_Assets`, `Cash`, `Positions`, `Avg_Cost`銆?
*   **缁勪欢锛欶eedback (鍙嶉/鎴愭湰妯″瀷)**
    *   **Energy Drain**锛氳绠椾氦鏄撴懇鎿︽垚鏈€?
    *   *閫昏緫*锛氫剑閲?(Commission) + 鍗拌姳绋?(Tax) + 婊戠偣 (Slippage)銆傛敮鎸佽嚜瀹氫箟婊戠偣绠楁硶锛堝鎴愪氦閲忓姞鏉冿級銆?

### 2.6 Plan Info (淇濆瓨鑰? 鈥斺€?鍒嗘瀽涓庤褰曞眰
**鑱岃矗**锛氱郴缁熺殑鈥滈粦鍖ｅ瓙鈥濓紝璁板綍涓€鍒囧巻鍙插苟鐢熸垚鎶ュ憡銆?

*   **鍔熻兘瀹氫箟**锛?
    *   **Khala's Memory**锛氭寜鏃ヨ褰曞噣鍊兼洸绾裤€佹寔浠撳彉鍖栥€佷氦鏄撴棩蹇椼€?
    *   **Metrics**锛氳绠?Sharpe, Sortino, Max Drawdown, Alpha, Beta銆?
    *   **Output**锛氬彲瑙嗗寲鍥捐〃涓庡洖娴嬫姤鍛娿€
